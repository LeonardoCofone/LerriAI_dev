<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lerri - Registration</title>
<script src="https://accounts.google.com/gsi/client" async defer></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
:root {
    --color-primary: #1A53E4;
    --color-secondary: #34A853;
    --color-danger: #f44336;
    --color-background: linear-gradient(135deg,#667eea,#764ba2,#f093fb,#f5576c);
}

html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden; 
}
body.login-page {
    font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
    background:var(--color-background);
    background-size:400% 400%;
    animation:gradientShift 8s ease infinite;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    margin:0;
    padding:20px;
    color:#333;
}
@keyframes gradientShift{
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}
.container {
    background: rgba(255,255,255,0.95);
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    max-width: 350px;
    max-height: 100vh;
    overflow: auto;
    width: 90%;
    text-align: center;
    transition: all 0.3s;
    backdrop-filter: blur(8px);
}

h1 {
    color:var(--color-primary);
    margin-bottom:0.5rem;
    font-size:1.5rem;
    font-weight:700;
}
.subtitle {
    color:#666;
    margin-bottom:1.3rem;
    line-height:1.6;
    font-size:0.9rem;
}
.form-group {
    margin-bottom:1.2rem;
    text-align:left;
    position:relative;
}
.form-group label {
    display:flex;
    align-items: center;
    margin-bottom:0.4rem;
    color:#555;
    font-weight:600;
    font-size:0.95rem;
    gap: 6px;
}

.info-container {
    position: relative;
    display: inline-flex;
    align-items: center;
}

.info-icon {
    font-size: 0.85rem;
    color: var(--color-primary);
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.3s;
}

.info-icon:hover {
    opacity: 1;
}

.tooltip-bubble {
    position: absolute;
    bottom: 150%;
    left: 50%;
    transform: translateX(-50%) translateY(10px);
    background: #333;
    color: #fff;
    padding: 10px 14px;
    border-radius: 12px;
    font-size: 0.75rem;
    width: 180px;
    text-align: center;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    z-index: 100;
    pointer-events: none;
    font-weight: 400;
    line-height: 1.4;
}

.tooltip-bubble::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -6px;
    border-width: 6px;
    border-style: solid;
    border-color: #333 transparent transparent transparent;
}

.info-container:hover .tooltip-bubble {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

input, select {
    width:100%;
    padding:0.5rem;
    border-radius:10px;
    border:2px solid #e0e0e0;
    font-size:0.9rem;
    transition:all 0.3s;
    box-sizing:border-box;
}
input:focus, select:focus {
    outline:none;
    border-color:var(--color-primary);
    box-shadow:0 0 0 3px rgba(26,83,228,0.1);
}
button.primary-btn {
    width:100%;
    background:var(--color-primary);
    color:white;
    border:none;
    padding:0.8rem;
    border-radius:10px;
    font-size:1rem;
    font-weight:700;
    cursor:pointer;
    transition:all 0.3s;
    margin-top:1rem;
}
button.primary-btn:hover {
    background:var(--color-secondary);
    transform:translateY(-2px);
    box-shadow:0 10px 25px rgba(52,168,83,0.4);
}
.link-section {
    margin-top:2rem;
    padding-top:1.5rem;
    border-top:1px solid #e0e0e0;
}
.link-section p {
    color:#666;
    margin:0;
}
.link-section a {
    color:var(--color-primary);
    text-decoration:none;
    font-weight:600;
}
.show-pass {
    position: absolute;
    right: 12px;
    top: 70%;
    transform: translateY(-50%);
    cursor: pointer;
    color: #666;
}

.terms-box {
    text-align: center;
    font-size: 0.85rem;
    line-height: 1.4;
    margin-top: 1rem;
}

.terms-box input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

@media (max-height: 600px), (max-width: 500px) {
    .container { padding: 1rem; }
}
</style>
<link rel="icon" href="pwa/icon/favicon.ico" type="image/x-icon">
</head>
<body class="login-page">

<section class="container animate__animated animate__fadeIn">
    
    <h1 class="animate__animated animate__fadeInUp">Welcome to Lerri</h1>
    <p class="subtitle animate__animated animate__fadeInUp animate__delay-1s">
        Create your account to get started.
    </p>

    <form id="registerForm" class="animate__animated animate__fadeInUp animate__delay-2s">
        <div class="form-group">
            <label for="nameInput">How should Lerri call you?</label>
            <input type="text" id="nameInput" placeholder="Ex: John Doe" required autocomplete="name">
        </div>
        
        <div class="form-group">
            <label for="passwordInput">
                Password
                <div class="info-container">
                    <i class="fa-solid fa-circle-info info-icon"></i>
                    <div class="tooltip-bubble">⚠️ ATTENTION: REMEMBER YOUR PASSWORD! Lerri does not have a password recovery feature yet. Losing it means losing access to your account and data. Contact support if you need assistance.</div>
                </div>
            </label>
            <input type="password" id="passwordInput" placeholder="Choose a password" required minlength="6" autocomplete="new-password">
            <i class="fa-solid fa-eye show-pass" id="togglePass"></i>
        </div>
        
        <div class="form-group">
            <label for="languageSelect">Language and time zone</label>
            <select id="languageSelect" required>
                <option value="it">Italiano</option>
                <option value="en-GB">English (UK)</option>
                <option value="en">English (International)</option>
                <option value="es">Español (España)</option>
                <option value="fr">Français</option>
                <option value="de">Deutsch</option>
                <option value="en-US">English (US)</option>
            </select>
        </div>

        <div class="form-group terms-box">
            <label>
                <input type="checkbox" id="termsCheckbox">
                <span>
                    I accept the 
                    <a href="Terms_&_Conditions.html" target="_blank">Terms</a> and 
                    <a href="PrivacyPolicy.html" target="_blank">Privacy</a>.
                </span>
            </label>
        </div>

        <button type="submit" class="primary-btn">
            <i class="fab fa-google"></i> Continue with Google
        </button>
    </form>

    <div class="link-section">
        <p>Already have an account? <a href="existing.html">Login here</a></p>
    </div>
</section>



<script src="auth.js"></script>
<script>
/* --- TOGGLE PASSWORD --- */
const toggle = document.getElementById("togglePass");
const pass = document.getElementById("passwordInput");

toggle.addEventListener("click", () => {
    const type = pass.type === "password" ? "text" : "password";
    pass.type = type;
    toggle.classList.toggle("fa-eye");
    toggle.classList.toggle("fa-eye-slash");
});

/* --- NOTIFICA POPUP --- */
function showPopupNotification(message) {
    const notif = document.createElement("div");
    notif.textContent = message;
    notif.style.position = "fixed";
    notif.style.bottom = "30px";
    notif.style.left = "50%";
    notif.style.transform = "translateX(-50%)";
    notif.style.background = "#333";
    notif.style.color = "#fff";
    notif.style.padding = "14px 22px";
    notif.style.borderRadius = "8px";
    notif.style.boxShadow = "0 2px 10px rgba(0,0,0,0.25)";
    notif.style.opacity = "0";
    notif.style.transition = "all 0.4s";
    notif.style.zIndex = "9999";

    document.body.appendChild(notif);

    setTimeout(() => {
        notif.style.opacity = "1";
        notif.style.bottom = "50px";
    }, 10);

    setTimeout(() => {
        notif.style.opacity = "0";
        notif.style.bottom = "30px";
        setTimeout(() => notif.remove(), 400);
    }, 2500);
}


const googleBtn = document.querySelector('.primary-btn');
const termsCheckbox = document.getElementById('termsCheckbox');

googleBtn.addEventListener('click', (e) => {
    if (!termsCheckbox || !termsCheckbox.checked) {
        e.preventDefault();
        showPopupNotification("You must accept the Terms of Service and Privacy Policy.");
    }
});
</script>

</body>
</html>